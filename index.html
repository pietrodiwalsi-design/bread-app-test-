<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, viewport-fit=cover">
    <title>Bread & Soup Specialist Pro</title>
    <style>
        :root {
            --primary: #8d6e63;
            --dark: #4e342e;
            --accent: #ffa726;
            --soup-theme: #d32f2f;
            --search-theme: #546e7a;
            --bg: #fdf5e6;
            --glass: rgba(255, 255, 255, 0.98);
        }

        html, body { margin: 0; padding: 0; width: 100%; height: 100dvh; overflow: hidden; background-color: var(--bg); }
        body { font-family: -apple-system, system-ui, sans-serif; background: var(--bg) url('https://images.unsplash.com/photo-1509440159596-0249088772ff?q=80&w=1000') center/cover fixed; display: flex; justify-content: center; }
        .app-shell { width: 100%; max-width: 500px; height: 100dvh; background: var(--glass); backdrop-filter: blur(12px); display: flex; flex-direction: column; box-shadow: 0 0 30px rgba(0,0,0,0.2); }
        header { padding: env(safe-area-inset-top) 1rem 1rem 1rem; text-align: center; background: white; border-bottom: 1px solid #eee; font-weight: bold; flex-shrink: 0; }
        main { flex: 1; overflow-y: auto; padding: 1.2rem; -webkit-overflow-scrolling: touch; }
        nav { flex-shrink: 0; width: 100%; height: calc(75px + env(safe-area-inset-bottom)); background: white; display: flex; border-top: 1px solid #eee; padding-bottom: env(safe-area-inset-bottom); }
        .nav-btn { flex: 1; display: flex; flex-direction: column; align-items: center; justify-content: center; font-size: 0.7rem; color: #888; cursor: pointer; border: none; background: none; }
        .nav-btn.active { color: var(--primary); font-weight: bold; }
        .nav-btn span { font-size: 1.4rem; margin-bottom: 2px; }
        .card { background: white; border-radius: 12px; padding: 1rem; margin-bottom: 1rem; border-left: 6px solid var(--primary); box-shadow: 0 4px 10px rgba(0,0,0,0.05); text-align: left; }
        .card.soup { border-left-color: var(--soup-theme); }
        .card.general { border-left-color: var(--accent); }
        .img-hero { width: 100%; height: 200px; border-radius: 10px; object-fit: cover; margin-bottom: 1rem; background: #eee; }
        .info-block { background: #fafafa; padding: 1rem; border-radius: 10px; margin-bottom: 1rem; border: 1px solid #eee; font-size: 0.95rem; line-height: 1.6; }
        .pro-tip { background: #fff3e0; border-left: 4px solid var(--accent); padding: 1rem; border-radius: 8px; font-size: 0.9rem; margin-bottom: 1rem; }
        input { width: 100%; padding: 12px; border-radius: 10px; border: 1px solid #ddd; margin-bottom: 1rem; font-size: 1rem; }
        ul { padding-left: 20px; }
        li { margin-bottom: 5px; }
    </style>
</head>
<body>

<div class="app-shell">
    <header id="view-title">Bread & Soup Specialist</header>
    <main id="app-view"></main>
    <nav>
        <button class="nav-btn" onclick="navigate('search')"><span>üåç</span>Search</button>
        <button class="nav-btn active" onclick="navigate('bread')"><span>üìü</span>Machine</button>
        <button class="nav-btn" onclick="navigate('general')"><span>ü•ñ</span>General</button>
        <button class="nav-btn" onclick="navigate('soup')"><span>ü•£</span>Soup</button>
        <button class="nav-btn" onclick="navigate('timer')"><span>‚è∞</span>Timer</button>
    </nav>
</div>

<script>
    const API_KEY = "2386c821382b4094a3045c9c6ffd588d";

    const MACHINE_DB = [
        { name: "Basic White Bread", img: "witbrood.png", program: "Basic (Menu 1)", pairing: "Hearty Vegetable Beef Soup", ingredients: ["1 tsp dry yeast", "500g strong white bread flour", "30g butter", "1.5 tbsp sugar", "1.5 tsp salt", "340ml water"], toppings: "None", instructions: "1. Place yeast at the bottom of the pan. 2. Cover with flour. 3. Add butter, sugar, and salt. 4. Pour water around the flour. 5. Select Menu 1, Medium crust. 6. Remove and cool on a wire rack.", tips: "For a crispier crust, use the 'Dark' setting." },
        { name: "Potato Rosemary Bread", img: "aardappelbrood.png", program: "Basic (Menu 1)", pairing: "Chicken Pot Pie Soup", ingredients: ["1 tsp yeast", "400g spelt flour", "10g butter", "¬æ tsp sugar", "1¬æ tsp salt", "150g cold mashed potatoes", "2 tbsp fresh rosemary (chopped)", "150ml water"], toppings: "Fresh rosemary & sea salt", instructions: "1. Mash potatoes without milk/butter and cool. 2. Layer ingredients starting with yeast. 3. Run Menu 1. 4. If hand-finishing: knead in rosemary at the end of the first mix.", tips: "Potato bread is very soft; wait at least 1 hour before slicing." },
        { name: "Brioche (Classic)", img: "brioche_brood.png", program: "Brioche (Menu 10)", pairing: "Roasted Tomato Soup", ingredients: ["1.25 tsp yeast", "400g flour", "50g sugar", "1.5 tsp salt", "60g butter (cubed)", "2 eggs", "80g extra ice-cold butter (cubed)"], toppings: "None", instructions: "1. Start Menu 10 with the first 60g butter. 2. Cut the additional 80g butter into 1cm cubes and keep in the fridge. 3. When the machine beeps (~55 mins), add the cold butter cubes. 4. Select 'Light' crust.", tips: "The temperature of the extra butter is key to the flaky texture." }
        // ... (remaining 11 machine recipes following the same structure)
    ];

    const GENERAL_DB = [
        { name: "Classic White Artisan Loaf", img: "classic_white_artisan_loaf.png", program: "Oven (Manual)", ingredients: ["500g white bread flour", "300ml lukewarm water", "7g dried yeast", "10g salt", "1 tbsp olive oil"], pairing: "Hearty Vegetable Beef Soup", toppings: "Flour dusting", instructions: "1. Mix dry ingredients, add water and oil. 2. Knead for 10 mins until elastic. 3. Rise in a warm place for 1 hour. 4. Knock back, shape into a boule. 5. Rise for 45-60 mins. 6. Bake at 220¬∞C for 30-35 mins.", tips: "Place a bowl of water in the oven to create steam for a crunchy crust." },
        { name: "Steamed Buns (Broodje Bapao)", img: "steamed_buns_broodje_bapao.png", program: "Steamer", ingredients: ["250g white flour", "7g dried yeast", "150ml lukewarm milk", "1 tsp sugar", "Pinch of salt", "Filling: 200g seasoned minced meat"], pairing: "Mulligatawny Soup", toppings: "None", instructions: "1. Knead dough ingredients; rise 1 hour. 2. Divide into 8 balls. 3. Flatten, place filling in center, and seal tightly. 4. Place on parchment squares, rise 20 mins. 5. Steam in a bamboo basket for 10-15 mins.", tips: "Do not open the steamer lid during cooking." },
        { name: "Keto Yeast Bread", img: "keto_low_carb_yeast_bread.png", program: "Oven (Manual)", ingredients: ["1 cup vital wheat gluten", "¬º cup oat flour", "¬æ cup soy flour", "¬º cup flax meal", "1 packet rapid rise yeast", "1‚Öõ cup warm water", "3 tbsp olive oil", "1 tsp salt"], pairing: "Creamy Zucchini-Herb Soup", toppings: "None", instructions: "1. Dissolve yeast in warm water. 2. Mix dry ingredients. 3. Combine and knead well (dough will be rubbery). 4. Rise for 60-90 mins. 5. Bake at 175¬∞C for 30-40 mins.", tips: "The gluten provides the structure; don't skip the kneading." }
        // ... (remaining 16 general recipes following the same structure)
    ];

    const SOUP_DB = [
        { 
            name: "Hearty Vegetable Beef Soup", 
            img: "hearty_vegetable_beef_soup.png", 
            pairing: "Classic White Artisan Loaf", 
            ingredients: ["1 lb beef (small dice)", "3 qt beef broth", "2 lb mirepoix (onions/carrots/celery)", "6 oz turnip", "4 garlic cloves", "6 oz green beans", "6 oz tomato concass√©e", "6 oz corn", "4 oz butter", "Sachet: 2 bay leaves, ¬Ω tsp thyme, ¬Ω tsp peppercorns"], 
            instructions: "1. Sweat the mirepoix and turnip in butter until tender. <br>2. Add garlic and diced beef. <br>3. Pour in broth and add the herb sachet. <br>4. Simmer for 1 hour until beef is tender. <br>5. Add green beans, tomatoes, and corn. <br>6. Simmer 15 mins more. Season with salt/pepper.", 
            tips: "Stir in shredded arugula or turnip tops at the very end for extra nutrition." 
        },
        { 
            name: "Chicken Pot Pie Soup (Creamy)", 
            img: "chicken_pot_pie_soup.png", 
            pairing: "Soft Milk Rolls", 
            ingredients: ["1 lb chicken (diced)", "Chicken stock (as needed)", "Mirepoix", "4 tbsp butter", "4 tbsp flour", "Cubed potatoes", "1 cup heavy cream", "Peas & Corn", "Dried thyme"], 
            instructions: "1. Saut√© mirepoix, veg, and chicken in oil. Add thyme. <br>2. Melt butter in the pot. Whisk in flour to make a roux; cook for 1 min. <br>3. Gradually whisk in chicken stock. <br>4. Add potatoes and simmer until tender. <br>5. Stir in cream (do not boil) and season.", 
            tips: "If the soup is too thin, use a cornstarch slurry mixed with cold stock to thicken." 
        },
        { 
            name: "Dutch Brown Bean Soup", 
            img: "dutch_brown_bean_soup.png", 
            pairing: "French Stick (Baguette)", 
            ingredients: ["500g dried brown beans", "1 beef shank (schenkel)", "1.5L water", "1 onion", "1 leek", "2 potatoes", "1 smoked sausage (rookworst)", "2 beef bouillon cubes"], 
            instructions: "1. Soak beans overnight. <br>2. Saut√© onion, celery, and leek until glazed. <br>3. Add water, beef shank, bouillon, and drained beans. <br>4. Simmer gently for 1.5 hours. <br>5. Add sliced rookworst in the last 20 mins. <br>6. Season to taste.", 
            tips: "Pur√©e a ladle-full of beans and return to the pot for a thicker, starchier consistency." 
        },
        { 
            name: "Mulligatawny Soup", 
            img: "mulligatawny_soup.png", 
            pairing: "Naan Bread", 
            ingredients: ["1 lb chicken meat (diced)", "2 qt chicken stock", "3 lb mirepoix (fine chop)", "4 oz butter", "3 oz flour", "2 tbsp curry powder", "4 oz green apple (dice)", "4 oz mushrooms", "1 pt half-and-half (warm)"], 
            instructions: "1. Saut√© mirepoix in butter for 10 mins without browning. <br>2. Stir in flour and curry powder to form a roux. <br>3. Pour in stock, bring to simmer, and cook 15 mins. <br>4. Add chicken, diced apple, and mushrooms. Cook 15 mins. <br>5. Stir in warm half-and-half. Season.", 
            tips: "Serve garnished with fresh chives over a small mound of rice." 
        },
        { 
            name: "Minestrone (Rich Italian)", 
            img: "minestrone.png", 
            pairing: "Focaccia", 
            ingredients: ["2 tbsp olive oil", "Mirepoix", "200g green beans", "100g kidney beans", "1L veg stock", "175g pasta", "Parmesan"], 
            instructions: "1. Saut√© mirepoix for 10 mins. <br>2. Add beans, stock, and pasta. <br>3. Simmer until pasta is al dente. <br>4. Garnish with basil and Parmesan.", 
            tips: "Pairs best with bread featuring Mediterranean herbs like rosemary." 
        }
    ];

    const view = document.getElementById('app-view');
    const viewTitle = document.getElementById('view-title');

    function navigate(target) {
        document.querySelectorAll('.nav-btn').forEach(b => b.classList.remove('active'));
        const activeBtn = document.querySelector(`.nav-btn[onclick="navigate('${target}')"]`);
        if(activeBtn) activeBtn.classList.add('active');
        view.innerHTML = ""; view.scrollTo(0,0);

        switch(target) {
            case 'search': renderSearch(); break;
            case 'bread': renderList(MACHINE_DB, 'bread'); break;
            case 'general': renderList(GENERAL_DB, 'general'); break;
            case 'soup': renderList(SOUP_DB, 'soup'); break;
            case 'timer': renderTimer(); break;
        }
    }

    function renderList(db, type) {
        const titles = { bread: "Panasonic Machine", general: "General Oven Bread", soup: "Soup Specialist" };
        viewTitle.innerText = titles[type];
        db.forEach((item) => {
            const card = document.createElement('div');
            card.className = `card ${type}`;
            card.innerHTML = `<div style="font-weight:bold; display:flex; justify-content:space-between; align-items:center;">${item.name} <span>‚ûú</span></div>`;
            card.onclick = () => renderDetail(item, type);
            view.appendChild(card);
        });
    }

    function renderDetail(item, type) {
        view.innerHTML = `
            <button onclick="navigate('${type}')" style="background:none; border:none; color:#888; margin-bottom:1rem; cursor:pointer; font-weight:bold;">‚¨Ö BACK</button>
            ${item.pairing ? `<div style="background:#f1f8e9; padding:12px; border-radius:8px; margin-bottom:15px; color:#2e7d32; font-weight:bold; font-size:0.85rem;">ü•£ PAIRS WITH: ${item.pairing}</div>` : ''}
            <img src="${item.img}" class="img-hero" onerror="this.src='https://via.placeholder.com/450x200?text=${item.name}'">
            <h2 style="margin:0;">${item.name}</h2>
            ${item.program ? `<div class="info-block"><strong>Method:</strong> ${item.program}</div>` : ''}
            <div class="info-block"><strong>Ingredients:</strong><ul>${item.ingredients.map(i => `<li>${i}</li>`).join('')}</ul></div>
            ${item.toppings ? `<div class="info-block"><strong>Toppings:</strong> ${item.toppings}</div>` : ''}
            <div class="info-block"><strong>Instructions:</strong><br>${item.instructions || item.method}</div>
            <div class="pro-tip"><strong>Expert Tips:</strong><br>${item.tips}</div>
        `;
        view.scrollTo(0,0);
    }

    function renderTimer() {
        viewTitle.innerText = "Panasonic Timer";
        view.innerHTML = `<div class="info-block"><p>Current Time:</p><input type="time" id="t1" value="${new Date().toTimeString().slice(0,5)}"><p>Ready At:</p><input type="time" id="t2"><button class="card" style="width:100%; background:var(--dark); color:white; border:none; margin-top:10px; padding:15px;" onclick="calculate()">CALCULATE</button></div><div id="res" class="info-block" style="display:none; text-align:center; font-size:1.8rem; background:#e8f5e9;"></div>`;
    }

    function calculate() {
        const t1 = document.getElementById('t1').value.split(':'), t2 = document.getElementById('t2').value.split(':');
        let d1 = new Date(0,0,0,t1[0],t1[1]), d2 = new Date(0,0,0,t2[0],t2[1]);
        if (d2 <= d1) d2.setDate(d2.getDate() + 1);
        let diff = d2 - d1;
        const res = document.getElementById('res'); res.style.display = "block";
        res.innerHTML = `Set to: <strong>${Math.floor(diff/3600000)}:${new Date(diff).getUTCMinutes().toString().padStart(2,'0')}</strong>`;
    }

    function renderSearch() {
        viewTitle.innerText = "Global Search";
        view.innerHTML = `<input type="text" id="qs" placeholder="Search world recipes..."><button class="card" style="width:100%; background:var(--search-theme); color:white; border:none; padding:15px;" onclick="apiSearch()">üîç SEARCH ONLINE</button><div id="api-res"></div>`;
    }

    async function apiSearch() {
        const q = document.getElementById('qs').value || 'bread';
        const resDiv = document.getElementById('api-res'); resDiv.innerHTML = "Searching...";
        try {
            const r = await fetch(`https://api.spoonacular.com/recipes/complexSearch?query=${q}&number=8&apiKey=${API_KEY}`);
            const data = await r.json();
            resDiv.innerHTML = data.results.map(i => `<div class="card" onclick="fetchApiDetail(${i.id})"><b>${i.title}</b></div>`).join('');
        } catch(e) { resDiv.innerHTML = "API error."; }
    }

    async function fetchApiDetail(id) {
        view.innerHTML = "Loading...";
        const r = await fetch(`https://api.spoonacular.com/recipes/${id}/information?apiKey=${API_KEY}`);
        const data = await r.json();
        renderDetail({ name: data.title, img: data.image, ingredients: data.extendedIngredients.map(i => i.original), instructions: data.instructions, tips: "External source." }, 'search');
    }

    navigate('bread');
</script>
</body>
</html>
