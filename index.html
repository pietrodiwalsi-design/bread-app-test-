<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Bread & Soup Pro</title>
    <style>
        /* CSS VARIABLES - Easy to change colors globally */
        :root {
            --primary-brown: #8d6e63;
            --dark-brown: #4e342e;
            --accent-orange: #ffa726;
            --soup-red: #d32f2f;
            --search-blue: #546e7a;
            --glass-white: rgba(255, 255, 255, 0.95);
            --shadow: 0 4px 15px rgba(0,0,0,0.1);
        }

        /* RESET & BASE STYLES */
        * { box-sizing: border-box; }
        body {
            font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", sans-serif;
            background: #fdf5e6 url('https://images.unsplash.com/photo-1509440159596-0249088772ff?q=80&w=1000') center/cover fixed;
            margin: 0;
            display: flex;
            justify-content: center;
            color: var(--dark-brown);
        }

        /* LAYOUT CONTAINER */
        .app-container {
            width: 100%;
            max-width: 480px;
            height: 100vh;
            background: var(--glass-white);
            backdrop-filter: blur(10px);
            display: flex;
            flex-direction: column;
            position: relative;
            box-shadow: 0 0 30px rgba(0,0,0,0.2);
        }

        /* HEADER */
        header {
            padding: 1rem;
            text-align: center;
            background: white;
            border-bottom: 1px solid #eee;
        }
        header h1 { margin: 0; font-size: 1.2rem; letter-spacing: 1px; }

        /* CONTENT AREA */
        main {
            flex: 1;
            overflow-y: auto;
            padding: 1.25rem;
            padding-bottom: 80px; /* Space for Nav */
        }

        /* UI COMPONENTS */
        .card {
            background: white;
            border-radius: 12px;
            padding: 1rem;
            margin-bottom: 1rem;
            border-left: 5px solid var(--primary-brown);
            box-shadow: var(--shadow);
            cursor: pointer;
            transition: transform 0.1s ease;
        }
        .card:active { transform: scale(0.98); }
        .card.soup { border-left-color: var(--soup-red); }
        .card.search { border-left-color: var(--search-blue); }

        .badge {
            font-size: 0.7rem;
            font-weight: bold;
            text-transform: uppercase;
            padding: 4px 8px;
            border-radius: 4px;
            background: #eee;
            display: inline-block;
            margin-bottom: 0.5rem;
        }

        .pairing-banner {
            background: #f1f8e9;
            color: #2e7d32;
            padding: 0.75rem;
            border-radius: 8px;
            margin-bottom: 1rem;
            font-weight: bold;
            font-size: 0.85rem;
            border: 1px solid #c8e6c9;
        }

        .img-box {
            width: 100%;
            height: 200px;
            border-radius: 10px;
            object-fit: cover;
            margin-bottom: 1rem;
            background: #f0f0f0;
        }

        .info-section {
            background: #fafafa;
            padding: 1rem;
            border-radius: 8px;
            margin-bottom: 1rem;
            border: 1px solid #eee;
        }

        .pro-tip {
            background: #fff3e0;
            border-left: 4px solid var(--accent-orange);
            padding: 1rem;
            border-radius: 8px;
            font-size: 0.9rem;
        }

        /* NAVIGATION BAR */
        nav {
            position: absolute;
            bottom: 0;
            width: 100%;
            height: 70px;
            background: white;
            display: flex;
            border-top: 1px solid #eee;
        }
        .nav-item {
            flex: 1;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            font-size: 0.7rem;
            color: #888;
            cursor: pointer;
        }
        .nav-item.active { color: var(--primary-brown); font-weight: bold; }
        .nav-item span { font-size: 1.5rem; }

        /* UTILITIES */
        input {
            width: 100%;
            padding: 0.8rem;
            border-radius: 8px;
            border: 1px solid #ccc;
            margin-bottom: 1rem;
        }
    </style>
</head>
<body>

<div class="app-container">
    <header><h1 id="app-title">Bread & Soup Pro</h1></header>
    
    <main id="app-view"></main>

    <nav>
        <div class="nav-item" onclick="router('search')"><span>üåç</span>Search</div>
        <div class="nav-item active" onclick="router('bread')"><span>üìü</span>Machine</div>
        <div class="nav-item" onclick="router('general')"><span>ü•ñ</span>General</div>
        <div class="nav-item" onclick="router('soup')"><span>ü•£</span>Soup</div>
        <div class="nav-item" onclick="router('timer')"><span>‚è∞</span>Timer</div>
    </nav>
</div>

<script>
    /* 1. DATABASE CONFIGURATION */
    const BREAD_DB = [
        { id: 1, name: "Basic White Bread", img: "witbrood.png", program: "Basic (Menu 1)", pairing: "Roasted Tomato Soup", ingredients: ["1 tsp yeast", "500g bread flour", "30g butter", "1.5 tbsp sugar", "1.5 tsp salt", "340ml water"], tips: "Use flour with 12%+ protein for the best rise." },
        { id: 2, name: "Potato Rosemary Bread", img: "potato_rosemary.png", program: "Basic (Menu 1)", pairing: "Spicy Carrot Soup", ingredients: ["1 tsp yeast", "400g spelt flour", "10g butter", "150g mashed potatoes", "2 tbsp rosemary", "150ml water"], tips: "Potato starch keeps the bread soft for days." },
        { id: 3, name: "Cashew & Walnut Bread", img: "nut_bread.png", program: "Basic Raisin (Menu 3)", pairing: "Chickpea & Sweet Potato Soup", ingredients: ["1 tsp yeast", "400g flour", "10g butter", "10g sesame", "280ml water", "150g nuts"], tips: "Add nuts at the beep to prevent them from being crushed." },
        { id: 4, name: "Crispy Herb Bread", img: "herb_bread.png", program: "Dough (Menu 17) + Oven", pairing: "Minestrone", ingredients: ["1 tbsp yeast", "500g flour", "Salt", "Herbs", "260ml water"], tips: "Machine kneads; you shape and bake at 230¬∞C." },
        { id: 5, name: "Brioche (Classic)", img: "brioche.png", program: "Brioche (Menu 10)", pairing: "Roasted Tomato Soup", ingredients: ["1.25 tsp yeast", "400g flour", "50g sugar", "60g butter", "2 eggs", "80g extra butter"], tips: "Add extra butter cubes after the 55-minute beep." },
        { id: 6, name: "Focaccia", img: "focaccia.png", program: "Dough (Menu 23/24)", pairing: "Minestrone", ingredients: ["0.5 tsp yeast", "300g flour", "1 tbsp olive oil", "170ml water"], tips: "Press dimples into dough and fill with oil and salt." },
        { id: 7, name: "Whole Wheat", img: "whole_wheat.png", program: "Whole Wheat (Menu 7)", pairing: "Chickpea Soup", ingredients: ["1 tsp yeast", "400g whole wheat flour", "20g butter", "280ml water"], tips: "Menu 7 allows for a long soak to soften the bran." },
        { id: 8, name: "French Bread", img: "french.png", program: "French (Menu 11)", pairing: "Zucchini Soup", ingredients: ["1 tsp yeast", "400g white flour", "1.5 tsp salt", "290ml water"], tips: "No fat/sugar added; 6-hour cycle creates the best crust." },
        { id: 9, name: "Christmas Gingerbread", img: "gingerbread.png", program: "Cake (Menu 15)", pairing: "Spicy Carrot Soup", ingredients: ["Oil", "3 Bananas", "170g Flour", "2 Eggs", "Dates"], tips: "Scrape the pan edges with a spatula during mixing." },
        { id: 10, name: "Panettone Style", img: "panettone.png", program: "Basic Raisin (Menu 3)", pairing: "None", ingredients: ["7g yeast", "500g flour", "100g butter", "Milk", "Dried fruit"], tips: "Use 'Light' crust setting to protect the sugar content." },
        { id: 11, name: "Pizza Dough", img: "pizza.png", program: "Pizza (Menu 23)", pairing: "Roasted Tomato Soup", ingredients: ["1 tsp yeast", "450g flour", "4 tbsp oil", "240ml water"], tips: "Roll thin for a crispy base. Bake at 220¬∞C." },
        { id: 12, name: "Protein Bread (S)", img: "protein.png", program: "Whole Wheat (Menu 5)", pairing: "Zucchini Soup", ingredients: ["¬æ tsp yeast", "291g flour", "Cottage cheese", "Egg whites"], tips: "Small loaf; high protein acts as a full meal base." },
        { id: 13, name: "Strawberry Jam", img: "jam.png", program: "Jam (Menu 21)", pairing: "None", ingredients: ["300g Strawberries", "200g Sugar", "7g Pectin"], tips: "Pour into jars while boiling hot." },
        { id: 14, name: "Fruit Compote", img: "compote.png", program: "Compote (Menu 22)", pairing: "None", ingredients: ["400g Fruit", "Sugar", "Water"], tips: "Great as a warm topping for your fresh bread." }
    ];

    const SOUP_DB = [
        { id: 1, name: "Minestrone (Rich Italian)", img: "minestrone.png", pairing: "Focaccia", ingredients: ["Veg stock", "Onion", "Carrot", "Beans", "Pasta"], method: "Saut√© veg for 10m, add stock and pasta, simmer until tender.", tips: "Use up stale bread by dipping it in." },
        { id: 2, name: "Spicy Carrot Soup", img: "spicy_carrot.png", pairing: "Potato Rosemary Bread", ingredients: ["Carrots", "Red onion", "Roasted spices", "Yogurt"], method: "Toast spices, simmer carrots in stock for 25m, blend smooth.", tips: "Roasting spices first is essential for flavor." },
        { id: 3, name: "Creamy Zucchini-Herb", img: "zucchini_herb.png", pairing: "French Bread", ingredients: ["Zucchini", "Spring onions", "Herbs", "Cream cheese"], method: "Simmer veg for 15m, blend, stir in cream cheese while hot.", tips: "Don't add too much water; zucchini is very wet." },
        { id: 4, name: "Creamy Mustard Soup", img: "creamy_mustard.png", pairing: "Basic White Bread", ingredients: ["Leek", "Potatoes", "Mustard", "Heavy cream"], method: "Fry leek/potato in butter, simmer 15m, blend and add cream.", tips: "Groninger mustard adds the best visual texture." },
        { id: 5, name: "Chickpea & Sweet Potato", img: "chickpea_sweet_potato.png", pairing: "Cashew & Walnut Bread", ingredients: ["Chickpeas", "Sweet potatoes", "Red pepper", "Lime"], method: "Simmer all for 20m, puree smooth, finish with lime juice.", tips: "Potato starch makes it creamy without dairy." },
        { id: 6, name: "Roasted Tomato Soup", img: "roasted_tomato.png", pairing: "Basic White (Grilled Cheese)", ingredients: ["Tomatoes", "Balsamic", "Red pepper", "Basil"], method: "Saut√© veg, deglaze with balsamic, simmer 15m and blend.", tips: "Balsamic vinegar balances the tomato acidity." }
    ];

    /* 2. CORE LOGIC & ROUTING */
    const view = document.getElementById('app-view');
    const title = document.getElementById('app-title');

    function router(target) {
        // Update Nav UI
        document.querySelectorAll('.nav-item').forEach(el => el.classList.remove('active'));
        event?.currentTarget?.classList.add('active');

        view.innerHTML = "";
        
        switch(target) {
            case 'search': renderSearch(); break;
            case 'bread': renderList(BREAD_DB, 'bread'); break;
            case 'general': view.innerHTML = "<p>Coming soon!</p>"; break;
            case 'soup': renderList(SOUP_DB, 'soup'); break;
            case 'timer': renderTimer(); break;
        }
    }

    /* 3. RENDERING FUNCTIONS */
    function renderList(data, type) {
        title.innerText = type === 'bread' ? "Panasonic Bread" : "Healthy Soups";
        data.forEach(item => {
            const card = document.createElement('div');
            card.className = `card ${type === 'soup' ? 'soup' : ''}`;
            card.innerHTML = `
                <span class="badge">${type === 'bread' ? 'üìü Machine' : 'ü•£ Soup'}</span>
                <div style="font-weight:bold;">${item.name}</div>
            `;
            card.onclick = () => renderDetail(item, type);
            view.appendChild(card);
        });
    }

    function renderDetail(item, type) {
        view.innerHTML = `
            <button onclick="router('${type}')" style="background:none; border:none; color:grey; cursor:pointer; margin-bottom:1rem;">‚¨Ö Back</button>
            ${item.pairing !== 'None' ? `<div class="pairing-banner">ü•ñ Pairs with: ${item.pairing}</div>` : ''}
            <img src="${item.img}" class="img-box" onerror="this.src='https://via.placeholder.com/400x200?text=Delicious+Food'">
            <h2>${item.name}</h2>
            ${item.program ? `<div class="info-section"><strong>Program:</strong> ${item.program}</div>` : ''}
            <div class="info-section"><strong>Ingredients:</strong><ul>${item.ingredients.map(i => `<li>${i}</li>`).join('')}</ul></div>
            ${item.method ? `<div class="info-section"><strong>Method:</strong><br>${item.method}</div>` : ''}
            <div class="pro-tip"><strong>Pro Tip:</strong><br>${item.tips}</div>
        `;
        view.scrollTo(0,0);
    }

    function renderTimer() {
        title.innerText = "Machine Timer";
        view.innerHTML = `
            <div class="info-section">
                <label>Current Time:</label>
                <input type="time" id="t1" value="${new Date().toTimeString().slice(0,5)}">
                <label>Ready At:</label>
                <input type="time" id="t2">
                <button class="card" style="width:100%; border:none; background:var(--primary-brown); color:white;" onclick="calculateTimer()">Calculate Delay</button>
            </div>
            <div id="timer-result" class="info-section" style="display:none; text-align:center; font-size:1.5rem; background:#e8f5e9;"></div>
        `;
    }

    function calculateTimer() {
        const t1 = document.getElementById('t1').value.split(':'), t2 = document.getElementById('t2').value.split(':');
        let d1 = new Date(0,0,0,t1[0],t1[1]), d2 = new Date(0,0,0,t2[0],t2[1]);
        if (d2 <= d1) d2.setDate(d2.getDate() + 1);
        let diff = new Date(d2 - d1);
        const res = document.getElementById('timer-result');
        res.style.display = "block";
        res.innerHTML = `Set to: <strong>${Math.floor((d2-d1)/3600000)}:${diff.getUTCMinutes().toString().padStart(2,'0')}</strong>`;
    }

    function renderSearch() {
        title.innerText = "Global Search";
        view.innerHTML = `
            <input type="text" id="query" placeholder="Find a recipe...">
            <button class="card search" style="width:100%; border:none; background:var(--search-blue); color:white;" onclick="runSearch()">üîç Search Spoonacular</button>
            <div id="results"></div>
        `;
    }

    // Initialize the app
    router('bread');
</script>
</body>
</html>
