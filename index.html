<!DOCTYPE html>
<html lang="nl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Brood Partner Pro</title>
    <style>
        :root { --primary: #8d6e63; --dark: #5d4037; --bg: #fdf5e6; --accent: #ffa726; }
        body { font-family: -apple-system, sans-serif; background-color: var(--bg); color: #4e342e; padding: 15px; margin: 0; }
        .app { max-width: 500px; margin: auto; background: white; min-height: 95vh; padding: 20px; border-radius: 25px; box-shadow: 0 10px 30px rgba(0,0,0,0.1); }
        header { text-align: center; border-bottom: 2px solid var(--primary); margin-bottom: 25px; padding-bottom: 10px; }
        
        /* Hoofdmenu */
        .menu-rij { display: flex; align-items: center; justify-content: space-between; margin-bottom: 15px; gap: 15px; border-bottom: 1px solid #f0f0f0; padding-bottom: 10px; }
        .menu-uitleg { flex: 1.2; font-size: 0.85em; color: #6d4c41; line-height: 1.4; }
        
        .btn { background: var(--primary); color: white; padding: 12px 5px; border-radius: 12px; cursor: pointer; text-align: center; font-weight: bold; font-size: 0.85em; border:none; width: 100%; transition: transform 0.1s; display: block; }
        .btn:active { transform: scale(0.98); }
        .btn-dark { background: var(--dark); }

        /* Content */
        .info-blok { text-align: left; line-height: 1.6; background: #fafafa; padding: 15px; border-radius: 10px; border-left: 5px solid var(--primary); margin-bottom: 15px; font-size: 0.95em; }
        .hoofd-img { width: 100%; height: 220px; border-radius: 15px; margin-bottom: 15px; object-fit: cover; background: #eee; }
        
        .recept-kaart { background: #fff; border: 1px solid #eee; padding: 12px; margin-top: 10px; border-radius: 12px; cursor: pointer; display: flex; align-items: center; }
        .recept-kaart img { width: 55px; height: 55px; border-radius: 8px; margin-right: 15px; object-fit: cover; }
        .img-placeholder { width: 55px; height: 55px; background: #eee; border-radius: 8px; margin-right: 15px; display: flex; align-items: center; justify-content: center; font-size: 1.5em; flex-shrink: 0; }
        
        input { width: 100%; padding: 12px; border-radius: 10px; border: 1px solid #ccc; box-sizing: border-box; margin-bottom: 15px; }
        .pro-tip { background: #fff3e0; border-left: 5px solid var(--accent); padding: 15px; border-radius: 10px; font-size: 0.9em; margin-bottom: 15px; }
        ul { text-align: left; padding-left: 20px; }
        li { margin-bottom: 5px; }
    </style>
</head>
<body>

<div class="app">
    <header><h1>üçû Brood Partner</h1></header>

    <div id="scherm-hoofd">
        <input type="text" id="zoekveld" placeholder="Zoek internationaal recept...">
        <div class="menu-rij"><div class="menu-uitleg">Wereldwijde database via Spoonacular.</div><div style="flex:0.8"><button class="btn" onclick="haalSpoonacularData()">üåç Global Search</button></div></div>
        <div class="menu-rij"><div class="menu-uitleg">Alle Panasonic SD-B2510 recepten.</div><div style="flex:0.8"><button class="btn" onclick="renderLijst()">üìü Panasonic Recepten</button></div></div>
        <div class="menu-rij"><div class="menu-uitleg">Bereken de exacte timer-instelling.</div><div style="flex:0.8"><button class="btn btn-dark" onclick="renderTimer()">‚è∞ Timer Calc</button></div></div>
    </div>

    <div id="scherm-resultaat" style="display:none;">
        <button class="btn btn-dark" style="margin-bottom:15px;" onclick="gaTerug()">‚¨Ö Terug naar Menu</button>
        <div id="inhoud"></div>
    </div>
</div>

<script>
    const API_KEY = "2386c821382b4094a3045c9c6ffd588d";

    // --- DE UITGEBREIDE DATABASE ---
    const PANASONIC_DB = [
        {
            naam: "Basis Wit Brood (Klassiek)",
            img: "witbrood.png",
            programma: "Basic (Menu 1 op SD-B2510)",
            ingredienten: ["1 tl droge gist", "500 g harde witte broodbloem", "30 g boter", "1.5 el suiker", "1.5 tl zout", "340 ml water"],
            tips: "Dit is het perfecte recept voor beginners. Gebruik voor het beste resultaat bloem met minstens 12% eiwit. Wil je rozijnen of noten toevoegen? Gebruik dan het 'Basic Raisin' menu en voeg maximaal 80g extra ingredi√´nten toe bij het piepsignaal."
        },
        {
            naam: "Aardappelbrood met Rozemarijn",
            img: "aardappelbrood.png",
            programma: "Basic (Menu 1 op SD-B2510)",
            ingredienten: ["1 tl droge gist", "400 g speltmeel (type 1050)", "10 g boter", "0.75 tl suiker", "1.75 tl zout", "150 g aardappelen (voorgekookt en gestampt)", "2 el rozemarijn (fijngehakt)", "150 ml water"],
            tips: "De aardappelen zorgen voor een extreem zachte binnenkant en een prachtige korst. Bestrooi het deeg ongeveer 1 uur voor het einde van de baktijd met extra speltbloem en rozemarijn voor een rustiek uiterlijk."
        },
        {
            naam: "Brood met Cashew- en Walnoten",
            img: "notenbrood.png",
            programma: "Basic Raisin (Menu 3 op SD-B2510)",
            ingredienten: ["1 tl droge gist", "400 g sterk witbroodmeel", "10 g boter", "0.75 tl suiker", "1.75 tl zout", "10 g sesamzaad", "280 ml water", "Extra: 90g walnoten + 60g cashewnoten (gehakt)"],
            tips: "Voeg de noten pas toe wanneer de machine begint te piepen (na ca. 20-25 min) om te voorkomen dat ze volledig verpulverd worden tijdens het kneden."
        },
        {
            naam: "Knapperig Kruidenbrood (Oven)",
            img: "frans_stokbrood.png",
            programma: "Pizza/Deeg (Menu 17 op SD-B2510) + Oven",
            ingredienten: ["1 el droge gist (papje met 40ml water)", "500 g bloem", "1 el zout", "1 takje rozemarijn", "1 takje tijm", "260 ml lauwwarm water"],
            tips: "De machine maakt hier alleen het deeg. Maak eerst een papje van de gist en laat 15 min rusten. Vorm het brood na kneden, laat 45 min rijzen en bak op 230¬∞C. Zet een bakje water onderin de oven voor stoom."
        },
        {
            naam: "Kerstpeperkoek (Banaan-Dadel)",
            img: "brioche_brood.png",
            programma: "Cake (Menu 15 op SD-B2510)",
            ingredienten: ["40 ml olijfolie", "3 middelgrote rijpe bananen (geprakt)", "170 g volkoren tarwebloem", "2 eieren", "50 g melasse (Black Treacle)", "100 g ontpitte dadels (gehakt)", "1 tl baking soda", "Specerijen: gember, kaneel, nootmuskaat"],
            tips: "Mix de eieren en dadels eerst in een blender tot een glad mengsel. Schraap de zijkanten van het bakblik schoon na het eerste mengmoment als er meel blijft plakken. Dit is een zuivelvrij recept."
        },
        {
            naam: "Brood in Panettone-stijl",
            img: "panettone.png",
            programma: "Basic Raisin (Menu 3) of Brioche",
            ingredienten: ["7 g droge gist", "500 g glad tarwemeel", "100 g boter", "250 ml lauwe melk", "1 ei + 2 eierdooiers", "100 g poedersuiker", "Rasp van citroen", "Vulling: 350g sinaasappelschil/rozijnen/amandel"],
            tips: "Verwarm de melk en boter samen tot de boter gesmolten is (lauw). Kies voor een lichte korstkleur om verbranding van de suikers te voorkomen."
        },
        {
            naam: "Brioche (Klassiek)",
            img: "brioche_brood.png",
            programma: "Brioche (Menu 10 op SD-B2510)",
            ingredienten: ["1.25 tl gist", "400 g bloem", "50 g suiker", "1.5 tl zout", "60 g boter (blokjes)", "2 eieren + water (270ml)", "Extra: 80 g koude boterblokjes"],
            tips: "Voeg de extra 80g boter pas toe na de piep (na ca. 55 min). Gebruik ingredi√´nten op kamertemperatuur voor een egaal deeg."
        },
        {
            naam: "Focaccia (Klassiek)",
            img: "focaccia_brood.png",
            programma: "Pizza/Deeg (Menu 23/24 op SD-B2510)",
            ingredienten: ["0.5 tl gist", "300 g bloem", "1 el olijfolie", "1 tl zout", "170 ml water"],
            tips: "Na kneden uitrollen op een ingevette plaat. Maak kuiltjes met de vingers, besprenkel met extra olie en grof zout. 30 min narijs voor het bakken op 200¬∞C."
        },
        {
            naam: "Aardbeienjam",
            img: "jam.png",
            programma: "Jam (Menu 21 op SD-B2510)",
            ingredienten: ["300 g aardbeien (fijngehakt)", "200 g suiker", "7 g pectine poeder"],
            tips: "Zorg dat het fruit goed fijngehakt is. De pectine is essentieel voor de binding. Haal de jam direct uit de pan als het klaar is en giet in schone potten."
        },
        {
            naam: "Volkorenbrood",
            img: "volkorenbrood.png",
            programma: "Whole Wheat (Menu 7)",
            ingredienten: ["1 tl gist", "400g volkorenbloem", "20g boter", "1.5 tl zout", "280ml water"],
            tips: "Het volkorenprogramma duurt langer zodat de zemelen het water goed kunnen opnemen voor een minder zwaar brood."
        }
    ];

    // --- LOGICA ---
    const dom = { hoofd: document.getElementById('scherm-hoofd'), res: document.getElementById('scherm-resultaat'), inhoud: document.getElementById('inhoud'), zoek: document.getElementById('zoekveld') };

    function gaTerug() { dom.res.style.display = 'none'; dom.hoofd.style.display = 'block'; }
    function toonScherm() { dom.hoofd.style.display = 'none'; dom.res.style.display = 'block'; window.scrollTo(0,0); }

    function renderLijst() {
        toonScherm();
        dom.inhoud.innerHTML = `<h3>Panasonic Recepten</h3>` + 
            PANASONIC_DB.map((r, i) => `
                <div class="recept-kaart" onclick="renderDetail(${i})">
                    ${r.img ? `<img src="${r.img}" onerror="this.onerror=null; this.parentElement.innerHTML='<div class=\'img-placeholder\'>üçû</div>';">` : `<div class="img-placeholder">üçû</div>`}
                    <b>${r.naam}</b>
                </div>
            `).join('');
    }

    function renderDetail(index) {
        const r = PANASONIC_DB[index];
        dom.inhoud.innerHTML = `
            <h2>${r.naam}</h2>
            <div class="info-blok"><strong>Programma:</strong><br>${r.programma}</div>
            <div class="info-blok"><strong>Ingredi√´nten:</strong><ul>${r.ingredienten.map(ing => `<li>${ing}</li>`).join('')}</ul></div>
            <div class="pro-tip"><strong>Tips:</strong><br>${r.tips}</div>
        `;
    }

    // --- API FUNCTIES ---
    async function haalSpoonacularData() {
        const query = dom.zoek.value || 'bread';
        toonScherm();
        dom.inhoud.innerHTML = "<p>üîç Zoeken in wereldwijde database...</p>";
        try {
            const res = await fetch(`https://api.spoonacular.com/recipes/complexSearch?query=${query}&number=10&apiKey=${API_KEY}`);
            const data = await res.json();
            dom.inhoud.innerHTML = `<h3>Resultaten voor "${query}"</h3>` + 
                data.results.map(r => `<div class="recept-kaart" onclick="toonSDetail(${r.id})"><img src="${r.image}"><b>${r.title}</b></div>`).join('');
        } catch (err) { dom.inhoud.innerHTML = "<div class='error-msg'>API limiet bereikt of geen internet.</div>"; }
    }

    async function toonSDetail(id) {
        dom.inhoud.innerHTML = "<p>‚åõ Recept laden...</p>";
        try {
            const res = await fetch(`https://api.spoonacular.com/recipes/${id}/information?apiKey=${API_KEY}`);
            const r = await res.json();
            dom.inhoud.innerHTML = `
                <h2>${r.title}</h2>
                <img src="${r.image}" class="hoofd-img">
                <div class="info-blok"><h4>Ingredi√´nten:</h4><ul>${r.extendedIngredients.map(i => `<li>${i.original}</li>`).join('')}</ul></div>
                <div class="info-blok"><h4>Instructies:</h4><p>${r.instructions || "Geen instructies."}</p></div>
            `;
        } catch (err) { dom.inhoud.innerHTML = "<div class='error-msg'>Kon details niet laden.</div>"; }
    }

    function renderTimer() {
        toonScherm();
        dom.inhoud.innerHTML = `<h3>Timer Calculator</h3><div class="info-blok"><p>Tijd nu:</p><input type="time" id="t-nu"><p>Klaar om:</p><input type="time" id="t-klaar"><button class="btn" onclick="calc()">Bereken</button></div><div id="t-res" class="info-blok" style="display:none; text-align:center; font-size:1.5em; font-weight:bold;"></div>`;
        document.getElementById('t-nu').value = new Date().toTimeString().slice(0,5);
    }

    function calc() {
        const nu = document.getElementById('t-nu').value.split(':'), klaar = document.getElementById('t-klaar').value.split(':');
        let d1 = new Date(0,0,0,nu[0],nu[1]), d2 = new Date(0,0,0,klaar[0],klaar[1]);
        if (d2 <= d1) d2.setDate(d2.getDate() + 1);
        let diff = d2 - d1, h = Math.floor(diff/3600000), m = Math.floor((diff%3600000)/60000);
        const res = document.getElementById('t-res'); res.style.display = "block"; res.innerHTML = `Instellen op: ${h}:${m.toString().padStart(2,'0')}`;
    }
</script>
</body>
</html>
