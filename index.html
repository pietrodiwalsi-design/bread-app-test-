<!DOCTYPE html>
<html lang="nl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Brood Partner Pro</title>
    <style>
        :root { --primary: #8d6e63; --dark: #5d4037; --bg: #fdf5e6; --accent: #ffa726; }
        body { font-family: -apple-system, sans-serif; background-color: var(--bg); color: #4e342e; padding: 15px; margin: 0; }
        .app { max-width: 500px; margin: auto; background: white; min-height: 95vh; padding: 20px; border-radius: 25px; box-shadow: 0 10px 30px rgba(0,0,0,0.1); }
        header { text-align: center; border-bottom: 2px solid var(--primary); margin-bottom: 25px; padding-bottom: 10px; }
        
        .menu-rij { display: flex; align-items: center; justify-content: space-between; margin-bottom: 15px; gap: 15px; border-bottom: 1px solid #f0f0f0; padding-bottom: 10px; }
        .menu-uitleg { flex: 1.2; font-size: 0.85em; color: #6d4c41; line-height: 1.4; }
        
        .btn { background: var(--primary); color: white; padding: 12px 5px; border-radius: 12px; cursor: pointer; text-align: center; font-weight: bold; font-size: 0.85em; border:none; width: 100%; transition: transform 0.1s; display: block; }
        .btn:active { transform: scale(0.98); }
        .btn-dark { background: var(--dark); }

        .info-blok { text-align: left; line-height: 1.6; background: #fafafa; padding: 15px; border-radius: 10px; border-left: 5px solid var(--primary); margin-bottom: 15px; font-size: 0.95em; }
        
        /* AANGEPASTE FOTO STIJL */
        .hoofd-img { 
            width: 100%; 
            height: 180px; /* Vaste compacte hoogte */
            border-radius: 15px; 
            margin-bottom: 15px; 
            object-fit: cover; /* Zorgt voor mooie uitsnede zonder vervorming */
            background: #eee; 
            box-shadow: 0 4px 8px rgba(0,0,0,0.1);
        }
        
        .recept-kaart { background: #fff; border: 1px solid #eee; padding: 12px; margin-top: 10px; border-radius: 12px; cursor: pointer; display: flex; align-items: center; }
        .recept-kaart img { width: 55px; height: 55px; border-radius: 8px; margin-right: 15px; object-fit: cover; }
        
        .img-placeholder { width: 55px; height: 55px; background: #eee; border-radius: 8px; margin-right: 15px; display: flex; align-items: center; justify-content: center; font-size: 1.5em; flex-shrink: 0; }
        
        input { width: 100%; padding: 12px; border-radius: 10px; border: 1px solid #ccc; box-sizing: border-box; margin-bottom: 15px; }
        .pro-tip { background: #fff3e0; border-left: 5px solid var(--accent); padding: 15px; border-radius: 10px; font-size: 0.9em; margin-bottom: 15px; }
        ul { text-align: left; padding-left: 20px; }
        li { margin-bottom: 5px; }
    </style>
</head>
<body>

<div class="app">
    <header><h1>üçû Brood Partner</h1></header>

    <div id="scherm-hoofd">
        <input type="text" id="zoekveld" placeholder="Zoek internationaal recept...">
        <div class="menu-rij"><div class="menu-uitleg">Wereldwijde database via Spoonacular API.</div><div style="flex:0.8"><button class="btn" onclick="haalSpoonacularData()">üåç Global Search</button></div></div>
        <div class="menu-rij"><div class="menu-uitleg">Alle Panasonic SD-B2510 recepten.</div><div style="flex:0.8"><button class="btn" onclick="renderLijst()">üìü Panasonic Recepten</button></div></div>
        <div class="menu-rij"><div class="menu-uitleg">Bereken de timer-instelling voor vers brood.</div><div style="flex:0.8"><button class="btn btn-dark" onclick="renderTimer()">‚è∞ Timer Calc</button></div></div>
    </div>

    <div id="scherm-resultaat" style="display:none;">
        <button class="btn btn-dark" style="margin-bottom:15px;" onclick="gaTerug()">‚¨Ö Terug naar Menu</button>
        <div id="inhoud"></div>
    </div>
</div>

<script>
    const API_KEY = "2386c821382b4094a3045c9c6ffd588d";

    const PANASONIC_DB = [
        {
            naam: "Basis Wit Brood (Klassiek)",
            img: "witbrood.png",
            programma: "Basic (Menu 1 op SD-B2510)",
            ingredienten: ["1 tl droge gist", "500 g harde witte broodbloem", "30 g boter", "1.5 el suiker", "1.5 tl zout", "340 ml water"],
            tips: "Perfect voor beginners. Gebruik bloem met minstens 12% prote√Øne voor een optimale rijs. Tip: Voor een krokantere korst kies de 'Dark' korst-instelling."
        },
        {
            naam: "Aardappelbrood met Rozemarijn",
            img: "aardappelbrood.png",
            programma: "Basic (Menu 1 op SD-B2510)",
            ingredienten: ["1 tl gist", "400 g speltmeel (type 1050)", "10 g boter", "¬æ tl suiker", "1¬æ tl zout", "150 g gekookte aardappelen (gestampt)", "2 el verse rozemarijn", "150 ml water"],
            tips: "Aardappelen zorgen voor een extreem zachte kruim en langere versheid. Bestrooi 1 uur voor het einde met extra bloem voor een rustiek effect."
        },
        {
            naam: "Brood met Cashew- en Walnoten",
            img: "notenbrood.png",
            programma: "Basic Raisin (Menu 3 op SD-B2510)",
            ingredienten: ["1 tl gist", "400 g sterk witbroodmeel", "10 g boter", "¬æ tl suiker", "1¬æ tl zout", "10 g sesamzaad", "280 ml water", "Extra: 90g walnoten + 60g cashewnoten"],
            tips: "Voeg de noten pas toe bij het piepsignaal (na ca. 20-25 min). Zo voorkom je dat de machine de noten volledig verpulvert tijdens het kneden."
        },
        {
            naam: "Knapperig Kruidenbrood (Oven)",
            img: "frans_stokbrood.png",
            programma: "Pizza/Deeg (Menu 17 op SD-B2510) + Oven",
            ingredienten: ["1 el gist (papje met 40ml water)", "500 g bloem", "1 el zout", "Rozemarijn & Tijm", "260 ml lauwwarm water"],
            tips: "Machine maakt alleen het deeg. Vorm daarna een brood, laat 45 min rijzen en bak op 230¬∞C. Tip: Zet een bakje water onderin de oven voor stoom."
        },
        {
            naam: "Kerstpeperkoek (Banaan-Dadel)",
            img: "brioche_brood.png",
            programma: "Cake (Menu 15 op SD-B2510)",
            ingredienten: ["40 ml olijfolie", "3 rijpe bananen", "170 g volkoren tarwebloem", "2 eieren", "50 g melasse", "100 g dadels", "1 tl baking soda", "Koekspecerijen"],
            tips: "Mix natte delen eerst in een blender. Schraap na de eerste mengfase de zijkanten van het blik schoon met een spatel voor een egaal bakresultaat."
        },
        {
            naam: "Brioche (Klassiek)",
            img: "brioche_brood.png",
            programma: "Brioche (Menu 10 op SD-B2510)",
            ingredienten: ["1.25 tl gist", "400 g bloem", "50 g suiker", "1.5 tl zout", "60 g boter", "2 eieren + water (270ml)", "Extra bij piep: 80g ijskoude boter"],
            tips: "Voeg de extra 80g boter pas toe na de piep (na ca. 55 min). Gebruik koude boterblokjes van 1cm voor de beste gelaagde structuur."
        },
        {
            naam: "Focaccia (Klassiek)",
            img: "focaccia_brood.png",
            programma: "Pizza/Deeg (Menu 23/24 op SD-B2510)",
            ingredienten: ["0.5 tl gist", "300 g bloem", "1 el olijfolie", "1 tl zout", "170 ml water"],
            tips: "Druk na het kneden het deeg uit op een ingevette plaat. Maak kuiltjes met de vingers en besprenkel rijkelijk met olie en grof zeezout."
        },
        {
            naam: "Panettone-stijl",
            img: "panettone.png",
            programma: "Basic Raisin (Menu 3) of Brioche",
            ingredienten: ["7 g gist", "500 g meel", "100 g boter", "250 ml lauwe melk", "1 ei + 2 dooiers", "100 g poedersuiker", "350 g zuidvruchten/noten"],
            tips: "Smelt boter in de melk (lauw). Kies 'Lichte Korst' kleur om te voorkomen dat de suikers in het deeg verbranden tijdens de lange bakfase."
        },
        {
            naam: "Volkorenbrood",
            img: "volkorenbrood.png",
            programma: "Whole Wheat (Menu 7)",
            ingredienten: ["1 tl gist", "400 g harde volkorenbloem", "20 g boter", "1 el suiker", "1.5 tl zout", "280 ml water"],
            tips: "Volkorenmeel heeft tijd nodig om vocht op te nemen. Menu 7 heeft een langere rusttijd (tot 1u 40m) voor een minder compact brood."
        },
        {
            naam: "Frans Brood",
            img: "frans_stokbrood.png",
            programma: "French (Menu 11)",
            ingredienten: ["1 tl gist", "400 g witte broodbloem", "1.5 tl zout", "290 ml water"],
            tips: "Bevat geen vet of suiker. De lange cyclus van bijna 6 uur is essentieel voor de authentieke Franse smaak en knapperige korst."
        },
        {
            naam: "Pizzadeeg (Snel)",
            img: "pizza_deeg.png",
            programma: "Pizza (Menu 23)",
            ingredienten: ["1 tl gist", "450 g bloem", "4 el olie", "2 tl zout", "240 ml water"],
            tips: "Een snelle cyclus van 45 min. Rol het deeg dun uit op een met semolina (griesmeel) bestoven bakplaat voor een krokante 'pizzeria' bodem."
        },
        {
            naam: "Prote√Ønebrood (Maat S)",
            img: "proteine.png",
            programma: "Volkoren (Menu 5)",
            ingredienten: ["¬æ tl gist", "291 g broodmeel", "125 g eiwit", "128 g cottage cheese", "38 g water", "5 g gerookt zout"],
            tips: "Recept voor een klein broodje. In de SD-B2510 valt dit klein uit; verdubbel de hoeveelheden voor een normaal formaat brood."
        },
        {
            naam: "Aardbeienjam",
            img: "jam.png",
            programma: "Jam (Menu 21)",
            ingredienten: ["300 g aardbeien", "200 g suiker", "7 g pectine poeder"],
            tips: "Zorg dat de kneedhaak goed geplaatst is. Giet de kokendhete jam na afloop direct in gesteriliseerde potten en sluit deze goed af."
        },
        {
            naam: "Compote",
            img: "witbrood.png",
            programma: "Compote (Menu 22)",
            ingredienten: ["400 g appels/peren", "2 el suiker", "1 el water"],
            tips: "Snijd het fruit in gelijkmatige blokjes. Lekker als topping voor havermout of yoghurt."
        }
    ];

    const dom = { hoofd: document.getElementById('scherm-hoofd'), res: document.getElementById('scherm-resultaat'), inhoud: document.getElementById('inhoud'), zoek: document.getElementById('zoekveld') };

    function gaTerug() { dom.res.style.display = 'none'; dom.hoofd.style.display = 'block'; }
    function toonScherm() { dom.hoofd.style.display = 'none'; dom.res.style.display = 'block'; window.scrollTo(0,0); }

    function renderLijst() {
        toonScherm();
        dom.inhoud.innerHTML = `<h3>Panasonic Recepten</h3>` + 
            PANASONIC_DB.map((r, i) => `
                <div class="recept-kaart" onclick="renderDetail(${i})">
                    ${r.img ? `<img src="${r.img}" onerror="this.onerror=null; this.parentElement.innerHTML='<div class=\'img-placeholder\'>üçû</div>';">` : `<div class="img-placeholder">üçû</div>`}
                    <div><b>${r.naam}</b><br><small style="color:var(--primary)">${r.programma}</small></div>
                </div>
            `).join('');
    }

    function renderDetail(index) {
        const r = PANASONIC_DB[index];
        dom.inhoud.innerHTML = `
            <h2>${r.naam}</h2>
            ${r.img ? `<img src="${r.img}" class="hoofd-img" onerror="this.style.display='none'">` : ''}
            <div class="info-blok"><h4>Programma:</h4>${r.programma}</div>
            <div class="info-blok"><h4>Ingredi√´nten:</h4><ul>${r.ingredienten.map(ing => `<li>${ing}</li>`).join('')}</ul></div>
            <div class="pro-tip"><h4>Bakkers Tips:</h4>${r.tips}</div>
            <button class="btn btn-dark" onclick="renderLijst()">‚¨Ö Terug naar Lijst</button>
        `;
    }

    async function haalSpoonacularData() {
        const query = dom.zoek.value || 'bread';
        toonScherm();
        dom.inhoud.innerHTML = "<p>üîç Zoeken in database...</p>";
        try {
            const res = await fetch(`https://api.spoonacular.com/recipes/complexSearch?query=${query}&number=10&apiKey=${API_KEY}`);
            const data = await res.json();
            dom.inhoud.innerHTML = `<h3>Resultaten voor "${query}"</h3>` + 
                data.results.map(r => `
                    <div class="recept-kaart" onclick="toonSDetail(${r.id})">
                        <img src="${r.image}">
                        <b>${r.title}</b>
                    </div>
                `).join('');
        } catch (err) { dom.inhoud.innerHTML = "<div class='error-msg'>Kon database niet bereiken.</div>"; }
    }

    async function toonSDetail(id) {
        dom.inhoud.innerHTML = "<p>‚åõ Recept details laden...</p>";
        try {
            const res = await fetch(`https://api.spoonacular.com/recipes/${id}/information?apiKey=${API_KEY}`);
            const r = await res.json();
            dom.inhoud.innerHTML = `
                <h2>${r.title}</h2>
                <img src="${r.image}" class="hoofd-img">
                <div class="info-blok"><h4>Ingredi√´nten:</h4><ul>${r.extendedIngredients.map(i => `<li>${i.original}</li>`).join('')}</ul></div>
                <div class="info-blok"><h4>Instructies:</h4><p>${r.instructions || "Geen stap-voor-stap instructies beschikbaar."}</p></div>
                <button class="btn btn-dark" onclick="haalSpoonacularData()">‚¨Ö Terug naar resultaten</button>
            `;
        } catch (err) { dom.inhoud.innerHTML = "<div class='error-msg'>Fout bij laden van recept.</div>"; }
    }

    function renderTimer() {
        toonScherm();
        dom.inhoud.innerHTML = `<h3>Timer Calculator</h3><div class="info-blok"><p>Huidige tijd:</p><input type="time" id="t-nu"><p>Gewenste eindtijd:</p><input type="time" id="t-klaar"><button class="btn" onclick="calc()">Bereken Panasonic Timer</button></div><div id="t-res" class="info-blok" style="display:none; text-align:center; font-size:1.5em; background:#e8f5e9;"></div>`;
        document.getElementById('t-nu').value = new Date().toTimeString().slice(0,5);
    }

    function calc() {
        const n = document.getElementById('t-nu').value.split(':'), k = document.getElementById('t-klaar').value.split(':');
        let d1 = new Date(0,0,0,n[0],n[1]), d2 = new Date(0,0,0,k[0],k[1]);
        if (d2 <= d1) d2.setDate(d2.getDate() + 1);
        let diff = d2 - d1, h = Math.floor(diff/3600000), m = Math.floor((diff%3600000)/60000);
        const res = document.getElementById('t-res');
        res.style.display = "block";
        res.innerHTML = `Instellen op: <b>${h}:${m.toString().padStart(2,'0')}</b>`;
    }
</script>
</body>
</html>
